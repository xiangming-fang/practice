<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../js/common.js"></script>
    <link rel="stylesheet" href="../../css/common.css">
</head>
<body>
<ul id="results"></ul>
<!--
    处理集合：
        1、数组：连续的一块内存块
        // ES6 引入的两个新集合
        2、map：键值对
        3、set：集合中的元素不能重复
-->
<script>
    /* 数组部分 */
    assert(false,"***********************结合——数组************************");
    var testArray = [1,2,3,4];
    testArray.push("从数组末尾添加元素");
    testArray.unshift("从数组头部添加元素");
    testArray.shift("从数组头部删除元素");
    testArray.pop("从数组末尾删除元素");
    // 删除数组任意指定位置元素，这种删除只是清空了数组下标里的值，替换成了undefined
    delete testArray[1];
    // 在数组第0个位置开始，删除一个元素，这个删除是将元素的位置和值都给除去了
    // removeItems是删除掉的子数组
    var removeItems = testArray.splice(0,1);

    // 在数组第0个位置开始，删除0个元素，并加入"添加1","添加2"
    testArray.splice(0,0,"添加1","添加2");
    // 在数组第3个位置开始，加入“哈哈哈”
    testArray.splice(3,0,"哈哈哈");
    // 排序，先数字（从小到大）、字符串、最后undefined
    testArray.sort();
    // ES6 语法遍历集合
    // for(let value of testArray){
    //     console.log(value);
    // }

    // 使用forEach遍历集合
    testArray.forEach(item => {
        assert( item != null,item);
    });

    /* map部分 */
    assert(false,"***********************结合——Map************************");
    var map = new Map();
    var swing1 = {};
    var swing2 = {};
    var swing3 = {};
    map.set(swing1,{"name":"我是swing1"});
    map.set(swing2,{"name":"我是swing2"});
    // 遍历map
    map.forEach(v => {
        assert(v.name,v.name);
    });
    // 判断map里有没有key为mapName的值，map.has(mapName)
    assert(map.has(swing1),map.get(swing1).name);
    assert(map.has(swing2),map.get(swing2).name);
    assert(map.size === 2,"对的，现在的map里的键值对长度是2");
    assert(map.has(swing3),"不存在");
    // 删除指定key的值
    map.delete(swing1);
    // 删除了之后，再做判断
    assert(map.has(swing1),"key是swing1的已经被删除了");
    assert(map.size === 1,"对的，现在的map里的键值对长度是1");
    // 清楚map里的键值对
    map.clear();
    assert(map.size === 0,"map里的键值对全被清空，size大小自然是0");

    /* set部分 */
    assert(false,"***********************结合——Set************************");
    var set = new Set();
    assert(set.size === 0,"新建了一个set集合，长度为0");
    // 往新建的set集合添加元素
    set.add("林就远，大帅比");
    assert(set.size === 1,"往set集合添加了一个元素，长度为1");
    // 判断set集合里是否有该元素
    assert(set.has("林就远，大帅比"),"已经存在该元素");
    // 往set集合多加几个元素
    set.add("于欣欣，大美女");
    set.add("郭哥，大帅比");
    set.add("我，也是大帅比");
    // 遍历set集合
    set.forEach( v => {
        assert(true,v);
    });
    // set集合的并集、交集、差集
    // 1、创建2个set集合
    var set1 = new Set([1,2,3]);
    var set2 = new Set([3,4,5,6]);
    // 2、将两个set集合合并
    var combinationSet = new Set([...set1,...set2]);
    // 遍历输出并集结果
    combinationSet.forEach( v => assert(false,v));
    // 3、将两个set集合相交
    var intersectSet = new Set([...set1].filter(v => set2.has(v)));
    intersectSet.forEach( v => assert(true,v));
    // 4、取两个set集合的差集，取set1中不在set2里出现的元素
    var differenceSet = new Set([...set1].filter(v => !set2.has(v)));
    // var differenceSet = new Set([...set1].filter(v => !set2.has(v)) && [...set2].filter(v => !set1.has(v)));
    differenceSet.forEach(v => assert(false,v));
</script>
</body>
</html>